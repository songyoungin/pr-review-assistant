# Product Requirements Document

- 문서버전: v1.0
- 작성일: 2025-08-22 (KST)
- 문서소유: younginsong.eng@gmail.com
- 변경이력: 초기 작성

## 1. 목적과 배경

대규모/다빈도 PR 환경에서 리뷰 품질 저하, 핵심 변경 파악 지연, 문서·스키마 불일치로 인한 장애가 증가하고 있다. 본 제품은 리뷰 과정을 자동화·가속화하여 리드타임 단축과 품질 향상을 동시에 달성한다.

## 2. 목표(What)

- G1: git 브랜치/PR 기반 변경사항 자동 수집·요약
- G2: 변경 코드에 대한 품질/보안/성능 리뷰 결과 제공
- G3: 공개 인터페이스 변화 대비 문서 일관성 점검
- G4: 데이터 스키마 변경 영향(브레이킹/운영) 분석

## 3. 범위/비범위

- 범위: G1~G4 결과를 표준 리포트(JSON/Markdown) 로 산출하고, CI·PR 코멘트로 게시
- 비범위: 구체적 에이전트 구성/프롬프트/워크플로 단계, 모델 선택·파라미터(설계 문서로 분리)

## 4. 사용자와 시나리오

- 리뷰어: “대규모 PR의 핵심 변경·리스크를 2분 내 파악”
- 작성자: “문서·스키마 영향 항목을 사전에 누락 없이 체크”
- 리드/QA: “품질 게이트 결과로 머지 가능 여부를 신속 판단”

## 5. 기능 요구사항(FR)

- FR-1(변경 요약): PR/브랜치에서 변경 파일·라인을 수집하고 TL;DR/하이라이트를 제공
- FR-2(코드 리뷰): 심각도(severity)와 근거(파일:라인) 이 포함된 피드백을 제공
- FR-3(문서 일관성): 공개 API/설정 변화 대비 문서 누락/불일치를 식별하고 제안 문구 제공
- FR-4(스키마 분석): DDL 변화 요약, 브레이킹 후보와 운영 가이드(사전/실행/사후/롤백) 제시
- FR-5(리포트 집계): 상기 결과를 단일 리포트(JSON/MD)로 집계하고 CI로 게시

## 6. 비기능 요구사항(NFR/SLA)

- NFR-1 성능: 평균 처리 ≤ 2분(2k~5k 변경 라인), 95p ≤ 5분
- NFR-2 정확성: 모든 지적에는 최소 1개 이상의 근거(파일:라인) 포함
- NFR-3 이식성: GitHub/GitLab/Bitbucket 등 주요 Git 제공자 어댑터화
- NFR-4 신뢰성: 부분 실패 시 나머지 섹션 결과는 부분 성공(Partial) 으로 제공
- NFR-5 투명성: 각 결과는 규칙 ID 와 버전을 포함(추적 가능)

## 7. 성공지표(KPI)

- PR 리뷰 리드타임 30% 단축
- 고위험 결함(보안/브레이킹) 사전 탐지율 90%+
- 문서·스키마 불일치로 인한 릴리즈 지연 50% 감소

## 8. 의존성/가정

- 저장소에서 PR 메타·디프를 기계적으로 획득 가능
- CI에서 산출물 업로드 및 PR 코멘트 게시 가능

## 9. 리스크와 완화

- 대용량 PR: 샘플링·요약·근거라인 유지 전략 적용
- 민감정보 유출: 최소 공개 원칙·토큰/경로 마스킹

## 10. 수용 기준(Acceptance)

- A-1: FR-1~4의 결과가 FR-5 리포트에 일관 포맷으로 집계됨
- A-2: 리포트 모든 지적에 근거(파일:라인) 존재
- A-3: NFR-1, NFR-3, NFR-4를 충족(샘플 저장소 3종으로 검증)
